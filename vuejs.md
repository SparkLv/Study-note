# Vue  
## Vue实例  
### 构造器  
每个Vuejs应用都是通过构造函数Vue创建一个Vue的根实例启动的  
在实例化Vue时，需要传入一个选项对象，可以包含数据，模板，挂在元素，方法，生命周期钩子等选项。  
所有Vuejs组件其实都是被扩展的Vue实例。  
### 属性与方法  
每个Vue实例都会代理其data对象里所有的属性，并且只有这些被代理的属性是响应的。但是，如果在实例创建之后添加新的属性到实例上，它不会触发视图更新。  
除了data属性，Vue实例暴露一些有用的实例属性和方法，这些属性和方法都有前缀$。
### 生命周期  
每个Vue实例在被创建之前都要经过一系列的初始化过程。在这个过程中，实例会调用一些生命周期钩子，钩子的this指向调用它的Vue实例。  
![vue-life](img/vue-life-cycle.png)
## 模板语法  
vue使用了基于HTML的模板语法，允许开发者声明式地将DOM绑定只底层Vue实例的数据，所有Vue模板都是合法的HTML。在底层实现上，vue将模板编译成虚拟DOM渲染函数。 
### 插值 
#### 文本  
数据绑定最常见的形式就是使用Mustache语法（双大括号）的文本插值，无论如何，绑定的数据对象发生改变，插值处的内容都会更新。  
##### 通过使用v-once指令，也能一次性地插值，当数据改变时，内容不会更新。  
#### 纯HTML  
Mustache会将数据解释为纯文本，而非HTML，为了真正输出HTML，可以使用v-html  
##### 动态渲染的任意HTML很容易受到XSS攻击  
#### 属性  
Mustache不能再HTML属性中使用，应使用v-bind指令  
这对布尔值的属性也有效，如果条件求值为false的话该属性会被移除  
#### 使用JavaScript表达式  
对于所有的数据绑定Vuejs都提供了完全的js表达式支持  
这些表达式会在所属Vue实例的作用域下作为js被解析，每个绑定只能包含单个表达式  
模板表达式都被放在沙河中，只能访问全局变量的一个白名单，如Math和Date，不应在模板表达式中试图访问用户定义的全局变量  
### 指令  
是带有v-前缀的特殊属性。指令属性的值的预期是单一JS表达式（除了v-for），指令的职责就是当其表达式的值改变时相应地将某些行为应用到DOM上。  
#### 参数  
一些指令能接受一个参数如v-bind:href、v-on：click  
#### 修饰符  
是以 . 指明的特殊后缀，用于指出一个指令应该以特殊方式绑定  
例如 v-on:submit.prevent=""  
### 过滤器  
可以用在两个地方：mustache插值和v-bind表达式。过滤器应该被添加在js表达式尾部，由管道符指示：  
例如{{message|capitalize}}  
也可以串联
使用filters:{}选项定义过滤函数  
过滤器函数总接受表达式的值作为第一个参数  
### 缩写  
v-bind可以缩写为:  
v-on可以缩写为@  
## 计算属性  
计算属性的函数将用作属性的getter，当其中的vm.x值发生改变时，所有依赖于计算属性的绑定也会更新。  
与methods相比，computed只有当vm.x值发生改变时才会重新执行，methods会在每次重新渲染时执行，可以算作缓存。  
与watch相比也更加灵活，watch过于命令式和重复  
computed除了有getter，还可以提供一个setter  
### watch  
可以用来反应数据变化  
## Class与Style绑定  
### 绑定HTML CLASS  
#### 对象语法  
v-bind:class="{o:v,o2:v2}"也可以直接绑定一个对象，也可以返回对象的计算属性  
#### 数组语法  
v-bind:class="[a,b]"(ab需要在data里定义)  
也可以根据条件切换  
v-bind:class="[a?b:c]"(也可以在数组中使用对象语法来切换)  
### 绑定内联样式  
#### 对象语法  
其实就是一个css对象  
v-bind:style="{}"属性名可以是驼峰式也可以是配合引号的短横分割命名  
或者可以直接绑定一个对象  
同样常常结合返回对象的计算计算属性来使用  
#### 数组语法  
可以将多个对象绑定到一个元素上  
## 条件渲染
### v-if  
判断是否渲染元素，当表达式为真的时候渲染  
如果想切换多个元素可以在template元素上使用，最终渲染结果不会包含\<template>  
v-else和v-else-if需要紧跟在v-if和v-else-if后面  
如有相同元素vue不会再重新渲染，如输入框，这样在切换时会造成数据重复，可以使用key属性来分隔开  
### v-show  
与v-if功能类似，但只是简单的切换css的display属性,不支持template元素，也不支持v-else  
与v-if不同，v-show在页面渲染时就会被渲染，而v-if是惰性的只有为真才被渲染，但是它的切换是彻底的，事件监听器和子组件会被销毁重建  
##### v-for比v-if有更高的优先级  
## 列表渲染  
用v-for指令根据一组数组的选项列表进行渲染。需要以item in items形式的特殊语法  
在v-for块中，拥有对父级作用域属性的完全访问权限。还支持一个可选的第二参数作为当前项的索引  
##### 也可以使用 of 代替 in 作为分隔符  
v-for也可以使用template标签来渲染多个元素块  
###  v-for也可以用来迭代属性  
* 第一个参数为属性值 
* 第二个参数为键名（可选）  
* 第三个参数为索引（可选）  

v-for也可以取整数，进行整数迭代，例如 n in 10  
##### 在自定义组件中，可以像普通元素一样使用v-for,且key是必须的,向组件中注入v-for的数据可以使用v-bind传入  
###  数组更新  
#### 变异方法将会触发试图更新
* push()  
* pop()  
* shift()  
* unshift()  
* splice()  
* sort()  
* reverse()  
使用非变异方法，总是返回一个新数组，使用新数组替换旧数组，Vue会使用智能启发式方法来最大化DOM元素重用  
##### 当直接设置数组的一个项和修改数组长度时，不会触发视图更新  
##### 对于前一种的解决方法  
1. Vue.set(arr,index,value)  
2. x.splice(index,1,value)  
##### 使用splice  
1. x.splice(length)  
## 事件处理器  
### 监听事件  
可以用v-on指令监听DOM事件来触发一些js代码  
### 方法事件处理器  
可以使用v-on接收一个定义的方法来调用  
##### 可以使用特殊变量$event把事件对象传入  
### 事件修饰符  
* stop
* prevent  
* capture（事件捕获）  
* self  
* once（点击事件只会触发一次） 
###  键值修饰符  
v-on:keyup.键值  
滑鼠键值修饰符  
* .left
* .right
* .middle
## 表单控件绑定  
### 基本用法  
可以使用v-model指令在表单控件元素上创建双向数据绑定，它会根据控件类型自动选取正确的方法来更新元素  
##### 在文本域插值并不会生效,应用v-model来代替  
#### 复选框  
单个勾选框，为true和false
多个单选框为绑定到同一个数组,内容为value值  
#### 单选按钮  
多个按钮绑定到一个值，根据value判断值  
#### 选择列表  
绑定到select上，当没有value则为text值，有value则为value 
###修饰符  
* .lazy：在change事件中同步而不是input事件(回车)  
* .number：将输入值转换为number类型  
* .trim：自动过滤用户输入的首尾空格






